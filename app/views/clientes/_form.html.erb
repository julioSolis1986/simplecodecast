<%= simple_form_for @cliente, :html => { :multipart => true, :class => 'form-vertical' }, :defaults => { :input_html => { :class => 'input-block-level' } } do |f| %>
<% if @cliente.errors.any? %>
<div id="error_explanation">
  <ul>
    <% @cliente.errors.full_messages.each do |msg| %>
    <li><%= msg %></li>
    <% end %>
  </ul>
</div>
<% end %>

<ul class="nav nav-tabs" id="tabs">
  <li class="active"><a href="#tab-dados-basicos">Dados Básicos</a></li>
  <li><a href="#tab-enderecos">Endereços</a></li>
  <li><a href="#tab-contatos">Contatos</a></li>
</ul>

<div class="tab-content">
  <div class="tab-pane active" id="tab-dados-basicos">
    <div class="row-fluid">
      <%= f.input :nome, :wrapper_html => { :class => 'span6' } %>
      <%= f.input :data_nascimento, :as => :datepicker, :wrapper_html => { :class => 'span3' } %>
      <%= f.input :sexo, :collection => Sexo.all.map{ |p| [p.nome, p.id] }, :wrapper_html => { :class => 'span3' } %>
    </div>

    <div class="row-fluid">
      <%= f.input :etnia, :collection => Etnia.all.map { |p| [p.nome, p.id] }, :wrapper_html => { :class => 'span4' } %>
      <%= f.input :cpf, :wrapper_html => { :class => 'span4' } %>
      <%= f.input :rg, :wrapper_html => { :class => 'span4' } %>
    </div>
  </div>

  <div class="tab-pane" id="tab-enderecos">
    <div class='tab-nested' id="enderecos_field">
      <%= f.fields_for :enderecos do |endereco| %>
      <%= render 'enderecos/enderecos_form', f, :endereco %>
      <% end %>  

      <%= link_to_add_association "Novo Endereço", f, :enderecos, :partial => 'enderecos/enderecos_form', :class => 'btn btn-success btn-block' %>
    </div>
  </div>

  <div class="tab-pane" id="tab-contatos">
    <div>    
      <div class='tab-nested' id="emails_field">
        <%= f.fields_for :emails do |email| %>
        <%= render 'emails/emails_form', f, :email %>
        <% end %>  

        <%= link_to_add_association "Novo E-mail", f, :emails, :partial => 'emails/emails_form', :class => 'btn btn-success btn-block' %>
      </div>
    </div>
    <div>
      <div class='tab-nested' id="telefones_field">
        <%= f.fields_for :telefones do |telefone| %>
        <%= render 'telefones/telefones_form', f, :telefone %>
        <% end %>  

        <%= link_to_add_association "Novo Telefone", f, :telefones, :partial => 'telefones/telefones_form', :class => 'btn btn-success btn-block' %>
      </div>
    </div>
  </div>
</div>

<div class="btn-group navigation-modal form-confirm">
  <%= link_to 'Voltar', clientes_path, :class => 'btn' %>
  <%= f.submit :class => 'btn btn-primary' %>
</div>
<% end %>